SET ECHO ON
SET TAB OFF
SET SERVEROUTPUT ON

REM 오류 조회 함수 FORMAT_ERROR_BACKTRACE를 사용한 오류 메시지 출력
DECLARE
  PROCEDURE p IS
  BEGIN
    RAISE_APPLICATION_ERROR(-20001, '사용자 지정 예외');
  END;
BEGIN
  p;
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE(SQLERRM);
    DBMS_OUTPUT.PUT_LINE(DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
END;
